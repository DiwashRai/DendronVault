{"pageProps":{"note":{"id":"tn0a5nqbrce9yebvej9h736","title":"Oracle","desc":"","updated":1689939591871,"created":1677666402987,"custom":{},"fname":"databases.oracle","type":"note","vault":{"fsPath":".","selfContained":true,"name":"DendronVault"},"contentHash":"32362a52ce47aaa7b416c5a039a23867","links":[],"anchors":{"export-a-database-dump":{"type":"header","text":"Export a database dump","value":"export-a-database-dump","line":8,"column":0,"depth":3},"create-a-new-pluggable-database-oracle-21c":{"type":"header","text":"Create a new pluggable database (oracle 21c)","value":"create-a-new-pluggable-database-oracle-21c","line":22,"column":0,"depth":3},"list-pluggable-databases":{"type":"header","text":"List pluggable databases","value":"list-pluggable-databases","line":38,"column":0,"depth":3},"show-open-mode-status-of-pluggable-databases":{"type":"header","text":"Show open mode status of pluggable databases","value":"show-open-mode-status-of-pluggable-databases","line":45,"column":0,"depth":3},"change-pdb-to-read-write":{"type":"header","text":"change pdb to READ WRITE","value":"change-pdb-to-read-write","line":53,"column":0,"depth":3},"save-pdb-state-so-you-dont-have-to-manually-open":{"type":"header","text":"save pdb state so you don't have to manually open","value":"save-pdb-state-so-you-dont-have-to-manually-open","line":58,"column":0,"depth":3},"deleting-a-pluggable-database":{"type":"header","text":"deleting a pluggable database","value":"deleting-a-pluggable-database","line":63,"column":0,"depth":3},"switching-session-container":{"type":"header","text":"switching session container","value":"switching-session-container","line":71,"column":0,"depth":3},"check-oracle-21-xe-pdb-data-usage":{"type":"header","text":"check oracle 21 xe pdb data usage","value":"check-oracle-21-xe-pdb-data-usage","line":78,"column":0,"depth":3}},"children":[],"parent":"akgpjs39sueidxnil3k1feg","data":{}},"body":"<h1 id=\"oracle\">Oracle<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#oracle\"></a></h1>\n<h3 id=\"export-a-database-dump\">Export a database dump<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#export-a-database-dump\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">exp <span class=\"token operator\">&#x3C;</span>user<span class=\"token operator\">></span>/<span class=\"token operator\">&#x3C;</span>password<span class=\"token operator\">></span>@<span class=\"token operator\">&#x3C;</span>pluggableDB<span class=\"token operator\">></span>\nbuffer size: <span class=\"token number\">4096</span> <span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">export</span> file: EXPDAT<span class=\"token operator\">></span>DMP <span class=\"token operator\">></span> myDump.dmp\n<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> Entire database <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> Users, or <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>Tables <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>Users <span class=\"token operator\">></span>\nExport grants <span class=\"token punctuation\">(</span>yes/no<span class=\"token punctuation\">)</span>: <span class=\"token function\">yes</span> <span class=\"token operator\">></span>\nExport table data <span class=\"token punctuation\">(</span>yes/no<span class=\"token punctuation\">)</span>: <span class=\"token function\">yes</span> <span class=\"token operator\">></span>\nCompress extents <span class=\"token punctuation\">(</span>yes/no<span class=\"token punctuation\">)</span>: <span class=\"token function\">yes</span> <span class=\"token operator\">></span>\nExport <span class=\"token keyword\">done</span> <span class=\"token keyword\">in</span> WE8MSWIM1252 character set<span class=\"token punctuation\">..</span>.\nUser to be exported: <span class=\"token punctuation\">(</span>RETURN to quit<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> schema_user\nexporting<span class=\"token punctuation\">..</span>.\n</code></pre>\n<h3 id=\"create-a-new-pluggable-database-oracle-21c\">Create a new pluggable database (oracle 21c)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#create-a-new-pluggable-database-oracle-21c\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">\nsqlplus / as sysdba\n\nCREATE PLUGGABLE DATABASE salespdb\n  ADMIN <span class=\"token environment constant\">USER</span> salesadm IDENTIFIED BY password\n  ROLES <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>dba<span class=\"token punctuation\">)</span>\n  DEFAULT TABLESPACE sales\n    DATAFILE <span class=\"token string\">'/disk1/oracle/dbs/salespdb/sales01.dbf'</span> SIZE 250M AUTOEXTEND ON\n  FILE_NAME_CONVERT <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'/disk1/oracle/dbs/pdbseed/'</span>,\n                       <span class=\"token string\">'/disk1/oracle/dbs/salespdb/'</span><span class=\"token punctuation\">)</span>\n  STORAGE <span class=\"token punctuation\">(</span>MAXSIZE 2G<span class=\"token punctuation\">)</span>\n  PATH_PREFIX <span class=\"token operator\">=</span> <span class=\"token string\">'/disk1/oracle/dbs/salespdb/'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"list-pluggable-databases\">List pluggable databases<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#list-pluggable-databases\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">COLUMN NAME FORMAT A8\n\nSELECT NAME, CON_ID, DBID, CON_UID, GUID FROM V<span class=\"token variable\">$CONTAINERS</span> ORDER BY CON_ID<span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"show-open-mode-status-of-pluggable-databases\">Show open mode status of pluggable databases<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#show-open-mode-status-of-pluggable-databases\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">COLUMN NAME FORMAT A15\nCOLUMN RESTRICTED FORMAT A10\nCOLUMN OPEN_TIME FORMAT A30\nSELECT NAME, OPEN_MODE, RESTRICTED, OPEN_TIME from V<span class=\"token variable\">$PDBS</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"change-pdb-to-read-write\">change pdb to READ WRITE<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#change-pdb-to-read-write\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">ALTER PLUGGABLE DATABASE XEPDB4 OPEN READ WRITE<span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"save-pdb-state-so-you-dont-have-to-manually-open\">save pdb state so you don't have to manually open<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#save-pdb-state-so-you-dont-have-to-manually-open\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">ALTER PLUGGABLE DATABASE XEPDB4 SAVE STATE<span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"deleting-a-pluggable-database\">deleting a pluggable database<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#deleting-a-pluggable-database\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">sqlplus / as sysdba\n\nalter pluggable database XEPDB4 close<span class=\"token punctuation\">;</span>\ndrop pluggable database XEPDB4 including datafiles<span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"switching-session-container\">switching session container<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#switching-session-container\"></a></h3>\n<pre class=\"language-shell\"><code class=\"language-shell\">show con_name\nalter session <span class=\"token builtin class-name\">set</span> container <span class=\"token operator\">=</span> mypdb2<span class=\"token punctuation\">;</span>\nshow con_name\n</code></pre>\n<h3 id=\"check-oracle-21-xe-pdb-data-usage\">check oracle 21 xe pdb data usage<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#check-oracle-21-xe-pdb-data-usage\"></a></h3>\n<pre><code>SELECT pdb_name, used_bytes/1024/1024/1024 \"Used GB\", \n       max_bytes/1024/1024/1024 \"Max GB\" \nFROM cdb_pdbs, \n     (SELECT con_id, sum(bytes) used_bytes \n      FROM   cdb_segments \n      WHERE  con_id > 2 \n      GROUP BY con_id) seg_used, \n     (SELECT con_id, max(bytes) max_bytes \n      FROM   cdb_data_files \n      WHERE  con_id > 2 \n      GROUP BY con_id) df_max \nWHERE  cdb_pdbs.con_id = seg_used.con_id(+) \nAND    cdb_pdbs.con_id = df_max.con_id(+);\n</code></pre>","noteIndex":{"id":"txvdlk2mbhl2y2muokxxozo","title":"Root","desc":"","updated":1664676002873,"created":1664671276173,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"DendronVault"},"contentHash":"896d57ab408d13d6cce66d3360a4c1be","links":[],"anchors":{"quick-access":{"type":"header","text":"Quick access","value":"quick-access","line":8,"column":0,"depth":2}},"children":["akgpjs39sueidxnil3k1feg","cq5doh4f24evc4ewzhg5yf3","3xtbw7nonlogrlsu9k2hymz","lubegqfiz1ik4hq8fnomek2","uhd2kqv69ly9jb7r0o6dw1t","155oput5ed55eq5lxuswdw9","rftnddr5kr2oi9582nrwjxd","nm541dgoi0njzxnux7it18y","5fs80ws2li1d12hstqngu4h"],"parent":null,"data":{},"body":"\n## Quick access\n\n- [C++ STL]([[lang.cpp.std]])"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"DendronVault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/DendronVault","siteUrl":"https://diwashrai.github.io","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}